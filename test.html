<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> - KursWork</title>
    <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/site.css?v=AKvNjO3dCPPS0eSU1Ez8T2wI280i08yGycV9ndytL-c">
    <link rel="stylesheet" href="/KursWork.styles.css?v=b_emR6NcRgqz9LdmW_dQb2kBlLC3rQSr7t8OFWz3H2M">
</head>
<body>
    <header>
        <nav b-k8fgrx9j10="" class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div b-k8fgrx9j10="" class="container-fluid">
                <a b-k8fgrx9j10="" class="navbar-brand">Каталог и база данных аниме-контента</a>
                <button b-k8fgrx9j10="" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span b-k8fgrx9j10="" class="navbar-toggler-icon"></span>
                </button>
                <div b-k8fgrx9j10="" class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul b-k8fgrx9j10="" class="navbar-nav flex-grow-1">
                        <li b-k8fgrx9j10="" class="nav-item">
                            <a class="nav-link text-dark" href="/">Отсюда</a>
                        </li>
                        <li b-k8fgrx9j10="" class="nav-item">
                            <a class="nav-link text-dark" href="/">Нет</a>
                        </li>
                        <li b-k8fgrx9j10="" class="nav-item">
                            <a class="nav-link text-dark" href="/">Выхода</a>
                        </li>
                        <li b-k8fgrx9j10="" class="nav-item">
                            <a class="nav-link text-dark" href="/">Один</a>
                        </li>
                        <li b-k8fgrx9j10="" class="nav-item">
                            <a class="nav-link text-dark" href="/">Раз</a>
                        </li>
                        <li b-k8fgrx9j10="" class="nav-item">
                            <a class="nav-link text-dark" href="/">Не</a>
                        </li>
                        <li b-k8fgrx9j10="" class="nav-item">
                            <a class="nav-link text-dark" href="/">Анимешник</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div b-k8fgrx9j10="" class="container">
        <main b-k8fgrx9j10="" role="main" class="pb-3">
            

<style>
    table {
        border: 4px double #333; 
        border-collapse: separate; 
        width: 80%; 
    }
    td {
        padding: 5px;
        border: 1px solid #a52a2a; 
    }

    tr{
        border: 1px solid #a52a2a;
    }

    #myProgress {
        width: 100%;
        background-color: grey;
    }
    #myBar {
        width: 10%;
        height: 30px;
        background-color: #4CAF50;
        text-align: center; 
        line-height: 30px;
        color: white;
    }

    .block {
        display: block;
        width: 100%;
        border: none;
        background-color: #04AA6D;
        padding: 14px 28px;
        font-size: 16px;
        cursor: pointer;
        text-align: center;
    }

    .colorinput {
        display: block;
        width: 100%;
        border: none;

        font-size: 16px;
        cursor: pointer;
        text-align: center;
    }
</style>
<script>
    let mode = false;
    const sleep = (t) =>  ({ then: (r) => setTimeout(r, t) })
    let nameTimer;
    let numTimer;

    async function name_nextsymbol_down(){
        isNameGifOn = true;
        document.getElementById("name_gif_right").style.visibility = 'visible';
        document.getElementById("namelabel").style.visibility = 'collapse';
        nameTimer = setInterval(() => {
             document.getElementById("namelabel").textContent = String.fromCharCode(document.getElementById("namelabel").textContent.charCodeAt(0)+1);
             if(document.getElementById("namelabel").textContent.charCodeAt(0) > 126) {
                 document.getElementById("nameinput").value='';
                 document.getElementById("name_add_btn").disabled=true;
             } else {
                 document.getElementById("name_add_btn").disabled=false;
             }
        }, 200);
           
    }

    async function name_nextsymbol_up(){
        document.getElementById("name_gif_right").style.visibility = 'collapse';
        document.getElementById("namelabel").style.visibility = 'visible';
        clearInterval(nameTimer);
    }

    async function name_backsymbol_down(){
        document.getElementById("name_gif_left").style.visibility = 'visible';
        document.getElementById("namelabel").style.visibility = 'collapse';
        nameTimer = setInterval(() => {
             document.getElementById("namelabel").textContent = String.fromCharCode(document.getElementById("namelabel").textContent.charCodeAt(0)-1);
             if(document.getElementById("namelabel").textContent.charCodeAt(0)<33) {
                document.getElementById("nameinput").value='';
                document.getElementById("name_add_btn").disabled=true;
             } else {
                 document.getElementById("name_add_btn").disabled=false;
             }
        }, 200);
    }

    async function name_backsymbol_up(){
        document.getElementById("name_gif_left").style.visibility = 'collapse';
        document.getElementById("namelabel").style.visibility = 'visible';
        clearInterval(nameTimer);
    }

    function name_addsymbol(){
        if(document.getElementById("namelabel").textContent)
        document.getElementById("nameinput").value+=document.getElementById("namelabel").textContent;
    }

    function number_start(){
        var elem = document.getElementById("myBar");
        var width = 10;
        numTimer = setInterval(frame, 30);
        document.getElementById("num_start_btn").disabled = true;
        function frame() {
            if (width >= 99) {
                clearInterval(numTimer);
                document.getElementById("numinput").value = '8';
            } else {
                width++;
                elem.style.width = width + '%';
                elem.innerHTML = width * 1;
            }
        }
    } 

    function number_add(){
        clearInterval(numTimer);
        document.getElementById("num_start_btn").disabled = false;
        document.getElementById("numinput").value += document.getElementById("myBar").textContent;
        if(String(document.getElementById("numinput").value).length>10){
            document.getElementById("num_start_btn").style.visibility = 'collapse';
            document.getElementById("num_add_btn").style.visibility = 'collapse';
            document.getElementById("myProgress").style.visibility = 'collapse';
            document.getElementById("myBar").style.visibility = 'collapse';
            document.getElementById("num_add_btn").disabled = true;
        } else {
            number_start();
        }
    }

    function pass_add_btn(){
        let elem = document.getElementById("pass_value");
        document.getElementById("passinput").value += String.fromCharCode(parseInt(elem.value.substring(1), 16) % 94 + 32);
    }

    function passagain_add_btn(){
        let elem = document.getElementById("passagain_value");
        document.getElementById("passagaininput").value += String.fromCharCode(parseInt(elem.value.substring(1), 16) % 94 + 32);
    }

    function clearform() {
        document.getElementById("nameinput").value = '';
        document.getElementById("numinput").value = '8';
        document.getElementById("passinput").value = '';
        document.getElementById("passagaininput").value = '';
        document.getElementById("namelabel").textContent = '!';
        document.getElementById("name_add_btn").disabled=false;
        document.getElementById("num_start_btn").style.visibility = 'visible';
        document.getElementById("num_add_btn").style.visibility = 'visible';
        document.getElementById("myProgress").style.visibility = 'visible';
        document.getElementById("myBar").style.visibility = 'visible';
        document.getElementById("num_add_btn").disabled = false;
    }

    function registry() {
        let name=document.getElementById("nameinput").value;
        let num=document.getElementById("numinput").value;
        let pass=document.getElementById("passinput").value;
        let passagain=document.getElementById("passagaininput").value;
        if(pass != passagain){
            alert("Пароли не совпадают.");
            clearform();
            return;
        }
        if(isNaN(num)){
            alert("В номере недопустимые символы.");
            clearform();
            return;
        }
        if(String(num).length<11){
            alert("Номер слишком короткий.");
            clearform();
            return;
        }
        if(String(name).length<4){
            alert("Никнейм слишком короткий.");
            clearform();
            return;
        }
        if(String(pass).length<4){
            alert("Пароль слишком короткий.");
            clearform();
            return;
        }
        if(name=='' || num=='' || pass=='' || passagain==''){
            alert("Не все поля заполнены.");
            clearform();
            return;
        }
        sendData(JSON.stringify({ "Login": name, "Password": pass, "Number": num }));
    }

    function sendData(data){
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function()
        {
            if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
            {
                alert(xmlHttp.responseText);
                clearform();
            }
        }
        xmlHttp.open("post", "/Login/Registry"); 
        xmlHttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xmlHttp.send(data);
    }

    function reg_btn_move(){
        let btnreg = document.getElementById("btn_reg");
        let btnclear = document.getElementById("btn_clear");
        btnreg.textContent = "Очистить";
        btnreg.onmousemove = undefined;
        btnreg.onclick = clearform;
        btnclear.textContent = "Зарегистрироваться";
        btnclear.onclick = registry;
    }

</script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> - KursWork</title>
    <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/site.css?v=AKvNjO3dCPPS0eSU1Ez8T2wI280i08yGycV9ndytL-c">
    <link rel="stylesheet" href="/KursWork.styles.css?v=b_emR6NcRgqz9LdmW_dQb2kBlLC3rQSr7t8OFWz3H2M">

<center>
    <table>
        <tbody><tr>
            <th align="left">Имя пользователя:
            </th><td> <input type="text" id="nameinput" > </td>
            <th>
            </th><td> <button id="name_back_btn" onmousedown="name_backsymbol_down()" onmouseup="name_backsymbol_up()" onmousemove="name_nextsymbol_up()"> &lt; </button></td> 
            <td> <img src="/images/name_symbolchange.gif" style="visibility: collapse;" id="name_gif_left" width="60"></td> 
            <td> <label id="namelabel">!</label> </td>
            <td> <img src="/images/name_symbolchange.gif" style="visibility: collapse;" id="name_gif_right" width="60"></td> 
            <td> <button id="name_next_btn" onmousedown="name_nextsymbol_down()" onmouseup="name_nextsymbol_up()" onmouseover="name_nextsymbol_up()"> &gt; </button></td> 
            <td> <button id="name_add_btn" onclick="name_addsymbol()"> ADD </button></td> 

        </tr><tr>
            <th align="left">Номер телефона:
            </th><td> <input type="text" name="number" value="8" id="numinput" >  
        </td><th>
            </th><td colspan="4"><div id="myProgress">
            <div id="myBar">0</div></div></td>
            <td><button id="num_start_btn" onclick="number_start()" class="colorinput">START</button></td>
            <td><button id="num_add_btn" onclick="number_add()">ADD</button></td>
        
        </tr><tr>
            <th align="left"> Пароль:
            </th><td> <input type="text" name="password" id="passinput" > 
        </td><th>
            </th><td colspan="5"> <input type="color" id="pass_value" class="colorinput"></td>
            <td><button id="pass_add_btn" onclick="pass_add_btn()">ADD</button></td>
        </tr><tr>
            <th align="left">Повторите пароль:
            </th><td> <input type="password" id="passagaininput" >
        </td><th>
            </th><td colspan="5"> <input type="color" id="passagain_value" class="colorinput"></td>
            <td><button id="passagain_add_btn" onclick="passagain_add_btn()">ADD</button></td>
        </tr><tr>
            <td></td><td></td><td></td>
        </tr>
        <tr>
            <th></th><td><button class="block" onclick="clearform()" style="background-color:red" id="btn_clear">Очистить</button></td>
            <th colspan="5"><button class="block" onmousemove="reg_btn_move()" onclick="registry()" id="btn_reg">Зарегистрироваться</button>

    </th></tr></tbody></table>
</center>

        </main>
    </div>

    <footer b-k8fgrx9j10="" class="border-top footer text-muted">
        <div b-k8fgrx9j10="" class="container">
            © 2022 - Lichuha - <a href="/Home/Privacy">https://github.com/Lichuhah</a>
        </div>
    </footer>
    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0"></script>
    



<center><a href="http://somee.com">Web hosting by Somee.com</a></center>

<script lang="JavaScript">aScr = document.createElement('script');aScr.src = location.protocol + "//ads.mgmt.somee.com/serveimages/ad2/WholeInsert5.js";document.body.appendChild(aScr);</script><script src="https://ads.mgmt.somee.com/serveimages/ad2/WholeInsert5.js"></script>
<html>
